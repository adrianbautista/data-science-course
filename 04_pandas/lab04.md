
# From Lists and Dictionaries to arrays and data frames

**Objectives**

* Review python lists and dictionaries as they pertain to pandas
* importing data through read_csv and data manipulation
* how to fill in missing data in dataframes



    import numpy
    import pandas


    """Attribute Information:
        -- 1. #3  (age)       
        -- 2. #4  (sex)       
        -- 3. #9  (cp)        
        -- 4. #10 (trestbps)  
        -- 5. #12 (chol)      
        -- 6. #16 (fbs)       
        -- 7. #19 (restecg)   
        -- 8. #32 (thalach)   
        -- 9. #38 (exang)     
        -- 10. #40 (oldpeak)   
        -- 11. #41 (slope)     
        -- 12. #44 (ca)        
        -- 13. #51 (thal)      
        -- 14. #58 (num)
    """
    header_row = ['age', 'sex', 'cp', 'trestbps', 'chol', 'fbs', 'restecg', 'thalach', 'exang', 'oldpeak', 'slope', 'ca', 'thal', 'num',]
    url = 'http://archive.ics.uci.edu/ml/machine-learning-databases/heart-disease/processed.cleveland.data'
    heart_data = pandas.read_csv(url, header=0, na_values='?') # na_values defined within this data set by '?' character
    heart_data.columns = header_row



    print heart_data

         age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  \
    0     67    1   4       160   286    0        2      108      1      1.5   
    1     67    1   4       120   229    0        2      129      1      2.6   
    2     37    1   3       130   250    0        0      187      0      3.5   
    3     41    0   2       130   204    0        2      172      0      1.4   
    4     56    1   2       120   236    0        0      178      0      0.8   
    5     62    0   4       140   268    0        2      160      0      3.6   
    6     57    0   4       120   354    0        0      163      1      0.6   
    7     63    1   4       130   254    0        2      147      0      1.4   
    8     53    1   4       140   203    1        2      155      1      3.1   
    9     57    1   4       140   192    0        0      148      0      0.4   
    10    56    0   2       140   294    0        2      153      0      1.3   
    11    56    1   3       130   256    1        2      142      1      0.6   
    12    44    1   2       120   263    0        0      173      0      0.0   
    13    52    1   3       172   199    1        0      162      0      0.5   
    14    57    1   3       150   168    0        0      174      0      1.6   
    15    48    1   2       110   229    0        0      168      0      1.0   
    16    54    1   4       140   239    0        0      160      0      1.2   
    17    48    0   3       130   275    0        0      139      0      0.2   
    18    49    1   2       130   266    0        0      171      0      0.6   
    19    64    1   1       110   211    0        2      144      1      1.8   
    20    58    0   1       150   283    1        2      162      0      1.0   
    21    58    1   2       120   284    0        2      160      0      1.8   
    22    58    1   3       132   224    0        2      173      0      3.2   
    23    60    1   4       130   206    0        2      132      1      2.4   
    24    50    0   3       120   219    0        0      158      0      1.6   
    25    58    0   3       120   340    0        0      172      0      0.0   
    26    66    0   1       150   226    0        0      114      0      2.6   
    27    43    1   4       150   247    0        0      171      0      1.5   
    28    40    1   4       110   167    0        2      114      1      2.0   
    29    69    0   1       140   239    0        0      151      0      1.8   
    ..   ...  ...  ..       ...   ...  ...      ...      ...    ...      ...   
    272   71    0   4       112   149    0        0      125      0      1.6   
    273   59    1   1       134   204    0        0      162      0      0.8   
    274   64    1   1       170   227    0        2      155      0      0.6   
    275   66    0   3       146   278    0        2      152      0      0.0   
    276   39    0   3       138   220    0        0      152      0      0.0   
    277   57    1   2       154   232    0        2      164      0      0.0   
    278   58    0   4       130   197    0        0      131      0      0.6   
    279   57    1   4       110   335    0        0      143      1      3.0   
    280   47    1   3       130   253    0        0      179      0      0.0   
    281   55    0   4       128   205    0        1      130      1      2.0   
    282   35    1   2       122   192    0        0      174      0      0.0   
    283   61    1   4       148   203    0        0      161      0      0.0   
    284   58    1   4       114   318    0        1      140      0      4.4   
    285   58    0   4       170   225    1        2      146      1      2.8   
    286   58    1   2       125   220    0        0      144      0      0.4   
    287   56    1   2       130   221    0        2      163      0      0.0   
    288   56    1   2       120   240    0        0      169      0      0.0   
    289   67    1   3       152   212    0        2      150      0      0.8   
    290   55    0   2       132   342    0        0      166      0      1.2   
    291   44    1   4       120   169    0        0      144      1      2.8   
    292   63    1   4       140   187    0        2      144      1      4.0   
    293   63    0   4       124   197    0        0      136      1      0.0   
    294   41    1   2       120   157    0        0      182      0      0.0   
    295   59    1   4       164   176    1        2       90      0      1.0   
    296   57    0   4       140   241    0        0      123      1      0.2   
    297   45    1   1       110   264    0        0      132      0      1.2   
    298   68    1   4       144   193    1        0      141      0      3.4   
    299   57    1   4       130   131    0        0      115      1      1.2   
    300   57    0   2       130   236    0        2      174      0      0.0   
    301   38    1   3       138   175    0        0      173      0      0.0   
    
         slope  ca  thal  num  
    0        2   3     3    2  
    1        2   2     7    1  
    2        3   0     3    0  
    3        1   0     3    0  
    4        1   0     3    0  
    5        3   2     3    3  
    6        1   0     3    0  
    7        2   1     7    2  
    8        3   0     7    1  
    9        2   0     6    0  
    10       2   0     3    0  
    11       2   1     6    2  
    12       1   0     7    0  
    13       1   0     7    0  
    14       1   0     3    0  
    15       3   0     7    1  
    16       1   0     3    0  
    17       1   0     3    0  
    18       1   0     3    0  
    19       2   0     3    0  
    20       1   0     3    0  
    21       2   0     3    1  
    22       1   2     7    3  
    23       2   2     7    4  
    24       2   0     3    0  
    25       1   0     3    0  
    26       3   0     3    0  
    27       1   0     3    0  
    28       2   0     7    3  
    29       1   2     3    0  
    ..     ...  ..   ...  ...  
    272      2   0     3    0  
    273      1   2     3    1  
    274      2   0     7    0  
    275      2   1     3    0  
    276      2   0     3    0  
    277      1   1     3    1  
    278      2   0     3    0  
    279      2   1     7    2  
    280      1   0     3    0  
    281      2   1     7    3  
    282      1   0     3    0  
    283      1   1     7    2  
    284      3   3     6    4  
    285      2   2     6    2  
    286      2 NaN     7    0  
    287      1   0     7    0  
    288      3   0     3    0  
    289      2   0     7    1  
    290      1   0     3    0  
    291      3   0     6    2  
    292      1   2     7    2  
    293      2   0     3    1  
    294      1   0     3    0  
    295      2   2     6    3  
    296      2   0     7    1  
    297      2   0     7    1  
    298      2   2     7    2  
    299      2   1     7    3  
    300      2   1     3    1  
    301      1 NaN     3    0  
    
    [302 rows x 14 columns]


### Pandas

numpy's ndarray is built to behave as an n-dimensional array. The most common
array we will use in data science is the matrix, a special, 2-d array.

Pandas is built as a wrapper around numpy ndarray to create a similar behavior
to what other statistical languages, like R, already have: a data frame.

## Special cases
### Vector (1-Dimensional)
Pandas = Series
Numpy = ndarray

### Matrix (2-Dimensional)
Pandas = Data Frame
Numpy = ndarray

### data frames behave like lists

data frames support many of the functionalities of lists, like slicing.

#### lists


    import random
    random_list = [random.random() for i in xrange(100)]
    
    print random_list[3:14]
    print random_list[80:]
    print random_list[:20]
    
    print len(random_list)

    [0.3179669652210867, 0.9073063488114999, 0.24548251016602674, 0.16721638015441398, 0.5359847650435309, 0.06155388799476558, 0.5602266588848394, 0.6732376216810433, 0.3862479045968886, 0.922093671127462, 0.5647091436819734]
    [0.4476774650242822, 0.519042617192468, 0.8008017751906654, 0.8600231052634577, 0.6829270682688363, 0.05006735185126954, 0.27757732172964233, 0.8024781125380089, 0.17590995550688782, 0.7636597525376116, 0.564496280462768, 0.28923426852580814, 0.4448451032143489, 0.273003241340524, 0.09563101472928881, 0.9507400479103845, 0.7419164933232958, 0.316121425900297, 0.00014174841262193372, 0.9300931954193526]
    [0.8559084948345276, 0.444333875272914, 0.22828254027469297, 0.3179669652210867, 0.9073063488114999, 0.24548251016602674, 0.16721638015441398, 0.5359847650435309, 0.06155388799476558, 0.5602266588848394, 0.6732376216810433, 0.3862479045968886, 0.922093671127462, 0.5647091436819734, 0.33442642885877505, 0.7699502470114274, 0.45624624768878186, 0.6734767106641473, 0.981677736356642, 0.586822408183388]
    100


#### data frames


    """ 
    - slicing on the dataframe index (row number?, this is by default)
    - bottom is inclusive, but top is not inclusive
    - the index can be redefined...
    """
    
    print heart_data[3:14] # includes 3, will not include 14 (max is at 13)
    print heart_data[80:]
    print heart_data[:20]
    
    print len(heart_data)

        age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  \
    3    41    0   2       130   204    0        2      172      0      1.4   
    4    56    1   2       120   236    0        0      178      0      0.8   
    5    62    0   4       140   268    0        2      160      0      3.6   
    6    57    0   4       120   354    0        0      163      1      0.6   
    7    63    1   4       130   254    0        2      147      0      1.4   
    8    53    1   4       140   203    1        2      155      1      3.1   
    9    57    1   4       140   192    0        0      148      0      0.4   
    10   56    0   2       140   294    0        2      153      0      1.3   
    11   56    1   3       130   256    1        2      142      1      0.6   
    12   44    1   2       120   263    0        0      173      0      0.0   
    13   52    1   3       172   199    1        0      162      0      0.5   
    
        slope  ca  thal  num  
    3       1   0     3    0  
    4       1   0     3    0  
    5       3   2     3    3  
    6       1   0     3    0  
    7       2   1     7    2  
    8       3   0     7    1  
    9       2   0     6    0  
    10      2   0     3    0  
    11      2   1     6    2  
    12      1   0     7    0  
    13      1   0     7    0  
         age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  \
    80    53    0   4       130   264    0        2      143      0      0.4   
    81    39    1   3       140   321    0        2      182      0      0.0   
    82    68    1   3       180   274    1        2      150      1      1.6   
    83    52    1   2       120   325    0        0      172      0      0.2   
    84    44    1   3       140   235    0        2      180      0      0.0   
    85    47    1   3       138   257    0        2      156      0      0.0   
    86    53    0   3       128   216    0        2      115      0      0.0   
    87    53    0   4       138   234    0        2      160      0      0.0   
    88    51    0   3       130   256    0        2      149      0      0.5   
    89    66    1   4       120   302    0        2      151      0      0.4   
    90    62    0   4       160   164    0        2      145      0      6.2   
    91    62    1   3       130   231    0        0      146      0      1.8   
    92    44    0   3       108   141    0        0      175      0      0.6   
    93    63    0   3       135   252    0        2      172      0      0.0   
    94    52    1   4       128   255    0        0      161      1      0.0   
    95    59    1   4       110   239    0        2      142      1      1.2   
    96    60    0   4       150   258    0        2      157      0      2.6   
    97    52    1   2       134   201    0        0      158      0      0.8   
    98    48    1   4       122   222    0        2      186      0      0.0   
    99    45    1   4       115   260    0        2      185      0      0.0   
    100   34    1   1       118   182    0        2      174      0      0.0   
    101   57    0   4       128   303    0        2      159      0      0.0   
    102   71    0   3       110   265    1        2      130      0      0.0   
    103   49    1   3       120   188    0        0      139      0      2.0   
    104   54    1   2       108   309    0        0      156      0      0.0   
    105   59    1   4       140   177    0        0      162      1      0.0   
    106   57    1   3       128   229    0        2      150      0      0.4   
    107   61    1   4       120   260    0        0      140      1      3.6   
    108   39    1   4       118   219    0        0      140      0      1.2   
    109   61    0   4       145   307    0        2      146      1      1.0   
    ..   ...  ...  ..       ...   ...  ...      ...      ...    ...      ...   
    272   71    0   4       112   149    0        0      125      0      1.6   
    273   59    1   1       134   204    0        0      162      0      0.8   
    274   64    1   1       170   227    0        2      155      0      0.6   
    275   66    0   3       146   278    0        2      152      0      0.0   
    276   39    0   3       138   220    0        0      152      0      0.0   
    277   57    1   2       154   232    0        2      164      0      0.0   
    278   58    0   4       130   197    0        0      131      0      0.6   
    279   57    1   4       110   335    0        0      143      1      3.0   
    280   47    1   3       130   253    0        0      179      0      0.0   
    281   55    0   4       128   205    0        1      130      1      2.0   
    282   35    1   2       122   192    0        0      174      0      0.0   
    283   61    1   4       148   203    0        0      161      0      0.0   
    284   58    1   4       114   318    0        1      140      0      4.4   
    285   58    0   4       170   225    1        2      146      1      2.8   
    286   58    1   2       125   220    0        0      144      0      0.4   
    287   56    1   2       130   221    0        2      163      0      0.0   
    288   56    1   2       120   240    0        0      169      0      0.0   
    289   67    1   3       152   212    0        2      150      0      0.8   
    290   55    0   2       132   342    0        0      166      0      1.2   
    291   44    1   4       120   169    0        0      144      1      2.8   
    292   63    1   4       140   187    0        2      144      1      4.0   
    293   63    0   4       124   197    0        0      136      1      0.0   
    294   41    1   2       120   157    0        0      182      0      0.0   
    295   59    1   4       164   176    1        2       90      0      1.0   
    296   57    0   4       140   241    0        0      123      1      0.2   
    297   45    1   1       110   264    0        0      132      0      1.2   
    298   68    1   4       144   193    1        0      141      0      3.4   
    299   57    1   4       130   131    0        0      115      1      1.2   
    300   57    0   2       130   236    0        2      174      0      0.0   
    301   38    1   3       138   175    0        0      173      0      0.0   
    
         slope  ca  thal  num  
    80       2   0     3    0  
    81       1   0     3    0  
    82       2   0     7    3  
    83       1   0     3    0  
    84       1   0     3    0  
    85       1   0     3    0  
    86       1   0   NaN    0  
    87       1   0     3    0  
    88       1   0     3    0  
    89       2   0     3    0  
    90       3   3     7    3  
    91       2   3     7    0  
    92       2   0     3    0  
    93       1   0     3    0  
    94       1   1     7    1  
    95       2   1     7    2  
    96       2   2     7    3  
    97       1   1     3    0  
    98       1   0     3    0  
    99       1   0     3    0  
    100      1   0     3    0  
    101      1   1     3    0  
    102      1   1     3    0  
    103      2   3     7    3  
    104      1   0     7    0  
    105      1   1     7    2  
    106      2   1     7    1  
    107      2   1     7    2  
    108      2   0     7    3  
    109      2   0     7    1  
    ..     ...  ..   ...  ...  
    272      2   0     3    0  
    273      1   2     3    1  
    274      2   0     7    0  
    275      2   1     3    0  
    276      2   0     3    0  
    277      1   1     3    1  
    278      2   0     3    0  
    279      2   1     7    2  
    280      1   0     3    0  
    281      2   1     7    3  
    282      1   0     3    0  
    283      1   1     7    2  
    284      3   3     6    4  
    285      2   2     6    2  
    286      2 NaN     7    0  
    287      1   0     7    0  
    288      3   0     3    0  
    289      2   0     7    1  
    290      1   0     3    0  
    291      3   0     6    2  
    292      1   2     7    2  
    293      2   0     3    1  
    294      1   0     3    0  
    295      2   2     6    3  
    296      2   0     7    1  
    297      2   0     7    1  
    298      2   2     7    2  
    299      2   1     7    3  
    300      2   1     3    1  
    301      1 NaN     3    0  
    
    [222 rows x 14 columns]
        age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  \
    0    67    1   4       160   286    0        2      108      1      1.5   
    1    67    1   4       120   229    0        2      129      1      2.6   
    2    37    1   3       130   250    0        0      187      0      3.5   
    3    41    0   2       130   204    0        2      172      0      1.4   
    4    56    1   2       120   236    0        0      178      0      0.8   
    5    62    0   4       140   268    0        2      160      0      3.6   
    6    57    0   4       120   354    0        0      163      1      0.6   
    7    63    1   4       130   254    0        2      147      0      1.4   
    8    53    1   4       140   203    1        2      155      1      3.1   
    9    57    1   4       140   192    0        0      148      0      0.4   
    10   56    0   2       140   294    0        2      153      0      1.3   
    11   56    1   3       130   256    1        2      142      1      0.6   
    12   44    1   2       120   263    0        0      173      0      0.0   
    13   52    1   3       172   199    1        0      162      0      0.5   
    14   57    1   3       150   168    0        0      174      0      1.6   
    15   48    1   2       110   229    0        0      168      0      1.0   
    16   54    1   4       140   239    0        0      160      0      1.2   
    17   48    0   3       130   275    0        0      139      0      0.2   
    18   49    1   2       130   266    0        0      171      0      0.6   
    19   64    1   1       110   211    0        2      144      1      1.8   
    
        slope  ca  thal  num  
    0       2   3     3    2  
    1       2   2     7    1  
    2       3   0     3    0  
    3       1   0     3    0  
    4       1   0     3    0  
    5       3   2     3    3  
    6       1   0     3    0  
    7       2   1     7    2  
    8       3   0     7    1  
    9       2   0     6    0  
    10      2   0     3    0  
    11      2   1     6    2  
    12      1   0     7    0  
    13      1   0     7    0  
    14      1   0     3    0  
    15      3   0     7    1  
    16      1   0     3    0  
    17      1   0     3    0  
    18      1   0     3    0  
    19      2   0     3    0  
    302


### data frames also behave like dictionaries

data frames support returning by column in a similar way a dictionary returns by
key.

#### dictionaries


    some_dictionary = {k: [random.random() for i in xrange(20)] for k in ['a', 'b', 'c',]}
    
    print some_dictionary['a']
    print some_dictionary['b']
    
    some_dictionary['d'] = [i**2 for i in some_dictionary['a']]
    
    print [i for i in some_dictionary['a'] if i > .5]

    [0.9501052775779426, 0.5504983487924232, 0.28064407266968305, 0.5682206318194288, 0.06850755156309951, 0.7151666552561218, 0.30115671735846816, 0.6913674614971455, 0.34440895302360897, 0.31445891933171743, 0.10267304592596449, 0.24768723240366464, 0.8140778485944945, 0.8531675332692668, 0.4328457773865686, 0.8439393905821276, 0.7703339324568456, 0.14900676116497424, 0.5098448792139935, 0.3484095383741017]
    [0.9154090492011954, 0.9771003130067789, 0.22296070689993908, 0.8196531612308964, 0.11959985976327847, 0.4040771137678423, 0.6314404049426637, 0.9038977192631813, 0.18513913775550772, 0.9292301020664683, 0.5823656414241414, 0.397181720547751, 0.7948280286875764, 0.7973318664550713, 0.3841873047531863, 0.9047339393411753, 0.7729132888730945, 0.6021261536793849, 0.8440781769574756, 0.7747069564011136]
    [0.9501052775779426, 0.5504983487924232, 0.5682206318194288, 0.7151666552561218, 0.6913674614971455, 0.8140778485944945, 0.8531675332692668, 0.8439393905821276, 0.7703339324568456, 0.5098448792139935]


#### Data Frames


    print heart_data['age']
    print heart_data['sex']
    
    heart_data['random_var'] = [random.random() for i in range(len(heart_data))]
    
    # Bonus: data frames accept passing in a list of keys to view multiple columns!
    # Note that this changes the type of what is returned.
    # The above all return pandas.series, a 1-dimensional array,
    # while the 'list' version creates another pandas data frame.
    print heart_data[['cp', 'oldpeak']]
    
    print type(heart_data['sex'])
    print type(heart_data[['sex']]) # note the difference between passing a list vs single key column
    print type(heart_data[['cp', 'oldpeak']])
    
    # Note that boolean matching is a bit cleaner to read with data frames as well.
    # Since random.random uses a flat distribution, consider the below as an approach to pick a random subset.
    # this returns 30% of the data back since random generated a flat equal distribution of random numbers
    heart_subset = heart_data[heart_data['random_var'] >.7]
    print heart_subset

    0     67
    1     67
    2     37
    3     41
    4     56
    5     62
    6     57
    7     63
    8     53
    9     57
    10    56
    11    56
    12    44
    13    52
    14    57
    ...
    287    56
    288    56
    289    67
    290    55
    291    44
    292    63
    293    63
    294    41
    295    59
    296    57
    297    45
    298    68
    299    57
    300    57
    301    38
    Name: age, Length: 302, dtype: float64
    0     1
    1     1
    2     1
    3     0
    4     1
    5     0
    6     0
    7     1
    8     1
    9     1
    10    0
    11    1
    12    1
    13    1
    14    1
    ...
    287    1
    288    1
    289    1
    290    0
    291    1
    292    1
    293    0
    294    1
    295    1
    296    0
    297    1
    298    1
    299    1
    300    0
    301    1
    Name: sex, Length: 302, dtype: float64
         cp  oldpeak
    0     4      1.5
    1     4      2.6
    2     3      3.5
    3     2      1.4
    4     2      0.8
    5     4      3.6
    6     4      0.6
    7     4      1.4
    8     4      3.1
    9     4      0.4
    10    2      1.3
    11    3      0.6
    12    2      0.0
    13    3      0.5
    14    3      1.6
    15    2      1.0
    16    4      1.2
    17    3      0.2
    18    2      0.6
    19    1      1.8
    20    1      1.0
    21    2      1.8
    22    3      3.2
    23    4      2.4
    24    3      1.6
    25    3      0.0
    26    1      2.6
    27    4      1.5
    28    4      2.0
    29    1      1.8
    ..   ..      ...
    272   4      1.6
    273   1      0.8
    274   1      0.6
    275   3      0.0
    276   3      0.0
    277   2      0.0
    278   4      0.6
    279   4      3.0
    280   3      0.0
    281   4      2.0
    282   2      0.0
    283   4      0.0
    284   4      4.4
    285   4      2.8
    286   2      0.4
    287   2      0.0
    288   2      0.0
    289   3      0.8
    290   2      1.2
    291   4      2.8
    292   4      4.0
    293   4      0.0
    294   2      0.0
    295   4      1.0
    296   4      0.2
    297   1      1.2
    298   4      3.4
    299   4      1.2
    300   2      0.0
    301   3      0.0
    
    [302 rows x 2 columns]
    <class 'pandas.core.series.Series'>
    <class 'pandas.core.frame.DataFrame'>
    <class 'pandas.core.frame.DataFrame'>
         age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  \
    2     37    1   3       130   250    0        0      187      0      3.5   
    6     57    0   4       120   354    0        0      163      1      0.6   
    7     63    1   4       130   254    0        2      147      0      1.4   
    26    66    0   1       150   226    0        0      114      0      2.6   
    28    40    1   4       110   167    0        2      114      1      2.0   
    31    64    1   3       140   335    0        0      158      0      0.0   
    38    61    1   3       150   243    1        0      137      1      1.0   
    39    65    0   4       150   225    0        2      114      0      1.0   
    42    59    1   3       150   212    1        0      157      0      1.6   
    47    65    0   3       140   417    1        2      157      0      0.8   
    50    65    1   4       120   177    0        0      140      0      0.4   
    51    44    1   4       112   290    0        2      153      0      0.0   
    55    50    1   3       140   233    0        0      163      0      0.6   
    62    54    0   3       135   304    1        0      170      0      0.0   
    64    60    1   4       145   282    0        2      142      1      2.8   
    70    67    1   4       125   254    1        0      163      0      0.2   
    73    44    1   4       110   197    0        2      177      0      0.0   
    79    45    1   4       104   208    0        2      148      1      3.0   
    83    52    1   2       120   325    0        0      172      0      0.2   
    86    53    0   3       128   216    0        2      115      0      0.0   
    92    44    0   3       108   141    0        0      175      0      0.6   
    97    52    1   2       134   201    0        0      158      0      0.8   
    105   59    1   4       140   177    0        0      162      1      0.0   
    108   39    1   4       118   219    0        0      140      0      1.2   
    109   61    0   4       145   307    0        2      146      1      1.0   
    110   56    1   4       125   249    1        2      144      1      1.2   
    114   41    1   2       135   203    0        0      132      0      0.0   
    122   55    1   4       140   217    0        0      111      1      5.6   
    125   56    0   4       200   288    1        2      133      1      4.0   
    131   29    1   2       130   204    0        2      202      0      0.0   
    ..   ...  ...  ..       ...   ...  ...      ...      ...    ...      ...   
    210   38    1   1       120   231    0        0      182      1      3.8   
    213   52    1   4       112   230    0        0      160      0      0.0   
    214   56    1   1       120   193    0        2      162      0      1.9   
    215   46    0   2       105   204    0        0      172      0      0.0   
    226   67    0   3       152   277    0        0      172      0      0.0   
    227   54    1   4       110   206    0        2      108      1      0.0   
    229   52    0   3       136   196    0        2      169      0      0.1   
    230   55    0   4       180   327    0        1      117      1      3.4   
    231   49    1   3       118   149    0        2      126      0      0.8   
    237   49    0   2       134   271    0        0      162      0      0.0   
    239   41    1   2       110   235    0        0      153      0      0.0   
    240   41    0   2       126   306    0        0      163      0      0.0   
    244   67    1   4       120   237    0        0       71      0      1.0   
    245   58    1   4       100   234    0        0      156      0      0.1   
    246   47    1   4       110   275    0        2      118      1      1.0   
    248   62    1   2       128   208    1        2      140      0      0.0   
    249   57    1   4       110   201    0        0      126      1      1.5   
    251   64    1   4       128   263    0        0      105      1      0.2   
    254   42    0   3       120   209    0        0      173      0      0.0   
    258   57    1   2       124   261    0        0      141      0      0.3   
    261   60    0   1       150   240    0        0      171      0      0.9   
    271   46    1   4       140   311    0        0      120      1      1.8   
    272   71    0   4       112   149    0        0      125      0      1.6   
    277   57    1   2       154   232    0        2      164      0      0.0   
    288   56    1   2       120   240    0        0      169      0      0.0   
    289   67    1   3       152   212    0        2      150      0      0.8   
    293   63    0   4       124   197    0        0      136      1      0.0   
    294   41    1   2       120   157    0        0      182      0      0.0   
    298   68    1   4       144   193    1        0      141      0      3.4   
    301   38    1   3       138   175    0        0      173      0      0.0   
    
         slope  ca  thal  num  random_var  
    2        3   0     3    0    0.886255  
    6        1   0     3    0    0.926242  
    7        2   1     7    2    0.995929  
    26       3   0     3    0    0.849306  
    28       2   0     7    3    0.740935  
    31       1   0     3    1    0.833566  
    38       2   0     3    0    0.713569  
    39       2   3     7    4    0.747656  
    42       1   0     3    0    0.918389  
    47       1   1     3    0    0.768552  
    50       1   0     7    0    0.723216  
    51       1   1     3    2    0.789699  
    55       2   1     7    1    0.724087  
    62       1   0     3    0    0.923380  
    64       2   2     7    2    0.936256  
    70       2   2     7    3    0.900455  
    73       1   1     3    1    0.863542  
    79       2   0     3    0    0.725203  
    83       1   0     3    0    0.716749  
    86       1   0   NaN    0    0.798980  
    92       2   0     3    0    0.859545  
    97       1   1     3    0    0.892001  
    105      1   1     7    2    0.898938  
    108      2   0     7    3    0.995056  
    109      2   0     7    1    0.703636  
    110      2   1     3    1    0.802912  
    114      2   0     6    0    0.845383  
    122      3   0     7    3    0.857539  
    125      3   2     7    3    0.852965  
    131      1   0     3    0    0.812423  
    ..     ...  ..   ...  ...         ...  
    210      2   0     7    4    0.885326  
    213      1   1     3    1    0.727314  
    214      2   0     7    0    0.839992  
    215      1   0     3    0    0.836541  
    226      1   1     3    0    0.786880  
    227      2   1     3    3    0.999657  
    229      2   0     3    0    0.886817  
    230      2   0     3    2    0.879840  
    231      1   3     3    1    0.842968  
    237      2   0     3    0    0.832864  
    239      1   0     3    0    0.969180  
    240      1   0     3    0    0.983516  
    244      2   0     3    2    0.811853  
    245      1   1     7    2    0.717994  
    246      2   1     3    1    0.875080  
    248      1   0     3    0    0.910556  
    249      2   0     6    0    0.999427  
    251      2   1     7    0    0.809861  
    254      2   0     3    0    0.987427  
    258      1   0     7    1    0.872920  
    261      1   0     3    0    0.917900  
    271      2   2     7    2    0.855615  
    272      2   0     3    0    0.771500  
    277      1   1     3    1    0.936060  
    288      3   0     3    0    0.805043  
    289      2   0     7    1    0.748332  
    293      2   0     3    1    0.862623  
    294      1   0     3    0    0.739173  
    298      2   2     7    2    0.859428  
    301      1 NaN     3    0    0.726614  
    
    [82 rows x 15 columns]


### Other handy data frame lookups


    print heart_data.head()
    
    print heart_data.tail()
    
    print heart_data.index
    
    print heart_data.describe() # does not work with String data, only integers and floats
    
    print heart_data.sort(columns='age')
    
    
    # shift + tab in ipython will tell you about the object
    # press tab with a trailing "." will suggest commands

       age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  slope  \
    0   67    1   4       160   286    0        2      108      1      1.5      2   
    1   67    1   4       120   229    0        2      129      1      2.6      2   
    2   37    1   3       130   250    0        0      187      0      3.5      3   
    3   41    0   2       130   204    0        2      172      0      1.4      1   
    4   56    1   2       120   236    0        0      178      0      0.8      1   
    
       ca  thal  num  random_var  
    0   3     3    2    0.323159  
    1   2     7    1    0.073583  
    2   0     3    0    0.886255  
    3   0     3    0    0.284337  
    4   0     3    0    0.575380  
         age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  \
    297   45    1   1       110   264    0        0      132      0      1.2   
    298   68    1   4       144   193    1        0      141      0      3.4   
    299   57    1   4       130   131    0        0      115      1      1.2   
    300   57    0   2       130   236    0        2      174      0      0.0   
    301   38    1   3       138   175    0        0      173      0      0.0   
    
         slope  ca  thal  num  random_var  
    297      2   0     7    1    0.642255  
    298      2   2     7    2    0.859428  
    299      2   1     7    3    0.419341  
    300      2   1     3    1    0.332627  
    301      1 NaN     3    0    0.726614  
    Int64Index([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, ...], dtype='int64')
                  age         sex          cp    trestbps        chol         fbs  \
    count  302.000000  302.000000  302.000000  302.000000  302.000000  302.000000   
    mean    54.410596    0.678808    3.165563  131.645695  246.738411    0.145695   
    std      9.040163    0.467709    0.953612   17.612202   51.856829    0.353386   
    min     29.000000    0.000000    1.000000   94.000000  126.000000    0.000000   
    25%     48.000000    0.000000    3.000000  120.000000  211.000000    0.000000   
    50%     55.500000    1.000000    3.000000  130.000000  241.500000    0.000000   
    75%     61.000000    1.000000    4.000000  140.000000  275.000000    0.000000   
    max     77.000000    1.000000    4.000000  200.000000  564.000000    1.000000   
    
              restecg     thalach       exang     oldpeak       slope          ca  \
    count  302.000000  302.000000  302.000000  302.000000  302.000000  298.000000   
    mean     0.986755  149.605960    0.327815    1.035430    1.596026    0.674497   
    std      0.994916   22.912959    0.470196    1.160723    0.611939    0.938202   
    min      0.000000   71.000000    0.000000    0.000000    1.000000    0.000000   
    25%      0.000000  133.250000    0.000000    0.000000    1.000000    0.000000   
    50%      0.500000  153.000000    0.000000    0.800000    2.000000    0.000000   
    75%      2.000000  166.000000    1.000000    1.600000    2.000000    1.000000   
    max      2.000000  202.000000    1.000000    6.200000    3.000000    3.000000   
    
                 thal         num  random_var  
    count  300.000000  302.000000  302.000000  
    mean     4.730000    0.940397    0.478429  
    std      1.941563    1.229384    0.292784  
    min      3.000000    0.000000    0.002219  
    25%      3.000000    0.000000    0.236400  
    50%      3.000000    0.000000    0.483072  
    75%      7.000000    2.000000    0.723869  
    max      7.000000    4.000000    0.999657  
         age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  \
    131   29    1   2       130   204    0        2      202      0      0.0   
    100   34    1   1       118   182    0        2      174      0      0.0   
    224   34    0   2       118   210    0        0      192      0      0.7   
    282   35    1   2       122   192    0        0      174      0      0.0   
    116   35    0   4       138   183    0        0      182      0      1.4   
    137   35    1   4       120   198    0        0      130      1      1.6   
    167   35    1   4       126   282    0        2      156      1      0.0   
    2     37    1   3       130   250    0        0      187      0      3.5   
    209   37    0   3       120   215    0        0      170      0      0.0   
    301   38    1   3       138   175    0        0      173      0      0.0   
    210   38    1   1       120   231    0        0      182      1      3.8   
    81    39    1   3       140   321    0        2      182      0      0.0   
    276   39    0   3       138   220    0        0      152      0      0.0   
    108   39    1   4       118   219    0        0      140      0      1.2   
    221   39    0   3        94   199    0        0      179      0      0.0   
    28    40    1   4       110   167    0        2      114      1      2.0   
    40    40    1   1       140   199    0        0      178      1      1.4   
    267   40    1   4       152   223    0        0      181      0      0.0   
    219   41    0   3       112   268    0        2      172      1      0.0   
    56    41    1   4       110   172    0        2      158      0      0.0   
    294   41    1   2       120   157    0        0      182      0      0.0   
    3     41    0   2       130   204    0        2      172      0      1.4   
    114   41    1   2       135   203    0        0      132      0      0.0   
    49    41    0   2       105   198    0        0      168      0      0.0   
    211   41    1   3       130   214    0        2      168      0      2.0   
    240   41    0   2       126   306    0        0      163      0      0.0   
    146   41    1   3       112   250    0        0      179      0      0.0   
    239   41    1   2       110   235    0        0      153      0      0.0   
    268   42    1   3       130   180    0        0      150      0      0.0   
    181   42    1   1       148   244    0        2      178      0      0.8   
    ..   ...  ...  ..       ...   ...  ...      ...      ...    ...      ...   
    89    66    1   4       120   302    0        2      151      0      0.4   
    275   66    0   3       146   278    0        2      152      0      0.0   
    228   66    1   4       112   212    0        2      132      1      0.1   
    270   66    1   4       160   228    0        2      138      0      2.3   
    0     67    1   4       160   286    0        2      108      1      1.5   
    255   67    0   4       106   223    0        0      142      0      0.3   
    244   67    1   4       120   237    0        0       71      0      1.0   
    151   67    0   3       115   564    0        2      160      0      1.6   
    194   67    1   4       100   299    0        2      125      1      0.9   
    70    67    1   4       125   254    1        0      163      0      0.2   
    226   67    0   3       152   277    0        0      172      0      0.0   
    1     67    1   4       120   229    0        2      129      1      2.6   
    289   67    1   3       152   212    0        2      150      0      0.8   
    298   68    1   4       144   193    1        0      141      0      3.4   
    193   68    0   3       120   211    0        2      115      0      1.5   
    82    68    1   3       180   274    1        2      150      1      1.6   
    158   68    1   3       118   277    0        0      151      0      1.0   
    188   69    1   3       140   254    0        2      146      0      2.0   
    195   69    1   1       160   234    1        2      131      0      0.1   
    29    69    0   1       140   239    0        0      151      0      1.8   
    257   70    1   2       156   245    0        2      143      0      0.0   
    169   70    1   3       160   269    0        0      112      1      2.9   
    154   70    1   4       130   322    0        2      109      0      2.4   
    135   70    1   4       145   174    0        0      125      1      2.6   
    41    71    0   2       160   302    0        0      162      0      0.4   
    102   71    0   3       110   265    1        2      130      0      0.0   
    272   71    0   4       112   149    0        0      125      0      1.6   
    232   74    0   2       120   269    0        2      121      1      0.2   
    256   76    0   3       140   197    0        1      116      0      1.1   
    160   77    1   4       125   304    0        2      162      1      0.0   
    
         slope  ca  thal  num  random_var  
    131      1   0     3    0    0.812423  
    100      1   0     3    0    0.241910  
    224      1   0     3    0    0.313288  
    282      1   0     3    0    0.222553  
    116      1   0     3    0    0.296276  
    137      2   0     7    1    0.832144  
    167      1   0     7    1    0.379134  
    2        3   0     3    0    0.886255  
    209      1   0     3    0    0.468235  
    301      1 NaN     3    0    0.726614  
    210      2   0     7    4    0.885326  
    81       1   0     3    0    0.071728  
    276      2   0     3    0    0.319677  
    108      2   0     7    3    0.995056  
    221      1   0     3    0    0.338279  
    28       2   0     7    3    0.740935  
    40       1   0     7    0    0.269870  
    267      1   0     7    1    0.589296  
    219      1   0     3    0    0.045373  
    56       1   0     7    1    0.264605  
    294      1   0     3    0    0.739173  
    3        1   0     3    0    0.284337  
    114      2   0     6    0    0.845383  
    49       1   1     3    0    0.067507  
    211      2   0     3    0    0.405380  
    240      1   0     3    0    0.983516  
    146      1   0     3    0    0.635348  
    239      1   0     3    0    0.969180  
    268      1   0     3    0    0.051237  
    181      1   2     3    0    0.928303  
    ..     ...  ..   ...  ...         ...  
    89       2   0     3    0    0.143391  
    275      2   1     3    0    0.449200  
    228      1   1     3    2    0.045400  
    270      1   0     6    0    0.270810  
    0        2   3     3    2    0.323159  
    255      1   2     3    0    0.683080  
    244      2   0     3    2    0.811853  
    151      2   0     7    0    0.914525  
    194      2   2     3    3    0.657202  
    70       2   2     7    3    0.900455  
    226      1   1     3    0    0.786880  
    1        2   2     7    1    0.073583  
    289      2   0     7    1    0.748332  
    298      2   2     7    2    0.859428  
    193      2   0     3    0    0.050851  
    82       2   0     7    3    0.519048  
    158      1   1     7    0    0.527664  
    188      2   3     7    2    0.945230  
    195      2   1     3    0    0.490679  
    29       1   2     3    0    0.619419  
    257      1   0     3    0    0.292775  
    169      2   1     7    3    0.050924  
    154      2   3     3    1    0.883286  
    135      3   0     7    4    0.247512  
    41       1   2     3    0    0.636832  
    102      1   1     3    0    0.614879  
    272      2   0     3    0    0.771500  
    232      1   1     3    0    0.429482  
    256      2   0     3    0    0.538288  
    160      1   3     3    4    0.570783  
    
    [302 rows x 15 columns]


### Handling Missing Data

data frames have a number of ways to interact with and control missing data:


    print heart_data.describe()
    
    print heart_data['ca'].isnull()

                  age         sex          cp    trestbps        chol         fbs  \
    count  302.000000  302.000000  302.000000  302.000000  302.000000  302.000000   
    mean    54.410596    0.678808    3.165563  131.645695  246.738411    0.145695   
    std      9.040163    0.467709    0.953612   17.612202   51.856829    0.353386   
    min     29.000000    0.000000    1.000000   94.000000  126.000000    0.000000   
    25%     48.000000    0.000000    3.000000  120.000000  211.000000    0.000000   
    50%     55.500000    1.000000    3.000000  130.000000  241.500000    0.000000   
    75%     61.000000    1.000000    4.000000  140.000000  275.000000    0.000000   
    max     77.000000    1.000000    4.000000  200.000000  564.000000    1.000000   
    
              restecg     thalach       exang     oldpeak       slope          ca  \
    count  302.000000  302.000000  302.000000  302.000000  302.000000  298.000000   
    mean     0.986755  149.605960    0.327815    1.035430    1.596026    0.674497   
    std      0.994916   22.912959    0.470196    1.160723    0.611939    0.938202   
    min      0.000000   71.000000    0.000000    0.000000    1.000000    0.000000   
    25%      0.000000  133.250000    0.000000    0.000000    1.000000    0.000000   
    50%      0.500000  153.000000    0.000000    0.800000    2.000000    0.000000   
    75%      2.000000  166.000000    1.000000    1.600000    2.000000    1.000000   
    max      2.000000  202.000000    1.000000    6.200000    3.000000    3.000000   
    
                 thal         num  random_var  
    count  300.000000  302.000000  302.000000  
    mean     4.730000    0.940397    0.514483  
    std      1.941563    1.229384    0.290449  
    min      3.000000    0.000000    0.002607  
    25%      3.000000    0.000000    0.262459  
    50%      3.000000    0.000000    0.530944  
    75%      7.000000    2.000000    0.780335  
    max      7.000000    4.000000    0.996814  
    0     False
    1     False
    2     False
    3     False
    4     False
    5     False
    6     False
    7     False
    8     False
    9     False
    10    False
    11    False
    12    False
    13    False
    14    False
    ...
    287    False
    288    False
    289    False
    290    False
    291    False
    292    False
    293    False
    294    False
    295    False
    296    False
    297    False
    298    False
    299    False
    300    False
    301     True
    Name: ca, Length: 302, dtype: bool


In the heart data, we notice there are a few missing values in the following
columns:

ca (number of major vessels, 0-3)): 4 rows
thal (a categorical field of 3, 6, or 7): 2 rows


####trial 1: remove the data

One way to clean up the data would be to remove it. with pandas that is as
simple as using dropna()


    # axis 0 (or not defined, as it is the default) will drop the rows.
    print heart_data.dropna()
    
    # axis 1 will drop the column.
    print heart_data.dropna(1)
    
    # if you pass in "in_place=true", it will actually change the OG data frame

         age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  \
    0     67    1   4       160   286    0        2      108      1      1.5   
    1     67    1   4       120   229    0        2      129      1      2.6   
    2     37    1   3       130   250    0        0      187      0      3.5   
    3     41    0   2       130   204    0        2      172      0      1.4   
    4     56    1   2       120   236    0        0      178      0      0.8   
    5     62    0   4       140   268    0        2      160      0      3.6   
    6     57    0   4       120   354    0        0      163      1      0.6   
    7     63    1   4       130   254    0        2      147      0      1.4   
    8     53    1   4       140   203    1        2      155      1      3.1   
    9     57    1   4       140   192    0        0      148      0      0.4   
    10    56    0   2       140   294    0        2      153      0      1.3   
    11    56    1   3       130   256    1        2      142      1      0.6   
    12    44    1   2       120   263    0        0      173      0      0.0   
    13    52    1   3       172   199    1        0      162      0      0.5   
    14    57    1   3       150   168    0        0      174      0      1.6   
    15    48    1   2       110   229    0        0      168      0      1.0   
    16    54    1   4       140   239    0        0      160      0      1.2   
    17    48    0   3       130   275    0        0      139      0      0.2   
    18    49    1   2       130   266    0        0      171      0      0.6   
    19    64    1   1       110   211    0        2      144      1      1.8   
    20    58    0   1       150   283    1        2      162      0      1.0   
    21    58    1   2       120   284    0        2      160      0      1.8   
    22    58    1   3       132   224    0        2      173      0      3.2   
    23    60    1   4       130   206    0        2      132      1      2.4   
    24    50    0   3       120   219    0        0      158      0      1.6   
    25    58    0   3       120   340    0        0      172      0      0.0   
    26    66    0   1       150   226    0        0      114      0      2.6   
    27    43    1   4       150   247    0        0      171      0      1.5   
    28    40    1   4       110   167    0        2      114      1      2.0   
    29    69    0   1       140   239    0        0      151      0      1.8   
    ..   ...  ...  ..       ...   ...  ...      ...      ...    ...      ...   
    270   66    1   4       160   228    0        2      138      0      2.3   
    271   46    1   4       140   311    0        0      120      1      1.8   
    272   71    0   4       112   149    0        0      125      0      1.6   
    273   59    1   1       134   204    0        0      162      0      0.8   
    274   64    1   1       170   227    0        2      155      0      0.6   
    275   66    0   3       146   278    0        2      152      0      0.0   
    276   39    0   3       138   220    0        0      152      0      0.0   
    277   57    1   2       154   232    0        2      164      0      0.0   
    278   58    0   4       130   197    0        0      131      0      0.6   
    279   57    1   4       110   335    0        0      143      1      3.0   
    280   47    1   3       130   253    0        0      179      0      0.0   
    281   55    0   4       128   205    0        1      130      1      2.0   
    282   35    1   2       122   192    0        0      174      0      0.0   
    283   61    1   4       148   203    0        0      161      0      0.0   
    284   58    1   4       114   318    0        1      140      0      4.4   
    285   58    0   4       170   225    1        2      146      1      2.8   
    287   56    1   2       130   221    0        2      163      0      0.0   
    288   56    1   2       120   240    0        0      169      0      0.0   
    289   67    1   3       152   212    0        2      150      0      0.8   
    290   55    0   2       132   342    0        0      166      0      1.2   
    291   44    1   4       120   169    0        0      144      1      2.8   
    292   63    1   4       140   187    0        2      144      1      4.0   
    293   63    0   4       124   197    0        0      136      1      0.0   
    294   41    1   2       120   157    0        0      182      0      0.0   
    295   59    1   4       164   176    1        2       90      0      1.0   
    296   57    0   4       140   241    0        0      123      1      0.2   
    297   45    1   1       110   264    0        0      132      0      1.2   
    298   68    1   4       144   193    1        0      141      0      3.4   
    299   57    1   4       130   131    0        0      115      1      1.2   
    300   57    0   2       130   236    0        2      174      0      0.0   
    
         slope  ca  thal  num  random_var  
    0        2   3     3    2    0.323159  
    1        2   2     7    1    0.073583  
    2        3   0     3    0    0.886255  
    3        1   0     3    0    0.284337  
    4        1   0     3    0    0.575380  
    5        3   2     3    3    0.345273  
    6        1   0     3    0    0.926242  
    7        2   1     7    2    0.995929  
    8        3   0     7    1    0.201525  
    9        2   0     6    0    0.595485  
    10       2   0     3    0    0.087160  
    11       2   1     6    2    0.379158  
    12       1   0     7    0    0.580267  
    13       1   0     7    0    0.365994  
    14       1   0     3    0    0.103805  
    15       3   0     7    1    0.693596  
    16       1   0     3    0    0.328524  
    17       1   0     3    0    0.030678  
    18       1   0     3    0    0.610751  
    19       2   0     3    0    0.517263  
    20       1   0     3    0    0.671496  
    21       2   0     3    1    0.080028  
    22       1   2     7    3    0.421530  
    23       2   2     7    4    0.369380  
    24       2   0     3    0    0.045158  
    25       1   0     3    0    0.106645  
    26       3   0     3    0    0.849306  
    27       1   0     3    0    0.425207  
    28       2   0     7    3    0.740935  
    29       1   2     3    0    0.619419  
    ..     ...  ..   ...  ...         ...  
    270      1   0     6    0    0.270810  
    271      2   2     7    2    0.855615  
    272      2   0     3    0    0.771500  
    273      1   2     3    1    0.272953  
    274      2   0     7    0    0.209849  
    275      2   1     3    0    0.449200  
    276      2   0     3    0    0.319677  
    277      1   1     3    1    0.936060  
    278      2   0     3    0    0.231084  
    279      2   1     7    2    0.471564  
    280      1   0     3    0    0.067606  
    281      2   1     7    3    0.551968  
    282      1   0     3    0    0.222553  
    283      1   1     7    2    0.643922  
    284      3   3     6    4    0.231684  
    285      2   2     6    2    0.362837  
    287      1   0     7    0    0.659564  
    288      3   0     3    0    0.805043  
    289      2   0     7    1    0.748332  
    290      1   0     3    0    0.182503  
    291      3   0     6    2    0.271448  
    292      1   2     7    2    0.202684  
    293      2   0     3    1    0.862623  
    294      1   0     3    0    0.739173  
    295      2   2     6    3    0.139469  
    296      2   0     7    1    0.240738  
    297      2   0     7    1    0.642255  
    298      2   2     7    2    0.859428  
    299      2   1     7    3    0.419341  
    300      2   1     3    1    0.332627  
    
    [296 rows x 15 columns]
         age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  \
    0     67    1   4       160   286    0        2      108      1      1.5   
    1     67    1   4       120   229    0        2      129      1      2.6   
    2     37    1   3       130   250    0        0      187      0      3.5   
    3     41    0   2       130   204    0        2      172      0      1.4   
    4     56    1   2       120   236    0        0      178      0      0.8   
    5     62    0   4       140   268    0        2      160      0      3.6   
    6     57    0   4       120   354    0        0      163      1      0.6   
    7     63    1   4       130   254    0        2      147      0      1.4   
    8     53    1   4       140   203    1        2      155      1      3.1   
    9     57    1   4       140   192    0        0      148      0      0.4   
    10    56    0   2       140   294    0        2      153      0      1.3   
    11    56    1   3       130   256    1        2      142      1      0.6   
    12    44    1   2       120   263    0        0      173      0      0.0   
    13    52    1   3       172   199    1        0      162      0      0.5   
    14    57    1   3       150   168    0        0      174      0      1.6   
    15    48    1   2       110   229    0        0      168      0      1.0   
    16    54    1   4       140   239    0        0      160      0      1.2   
    17    48    0   3       130   275    0        0      139      0      0.2   
    18    49    1   2       130   266    0        0      171      0      0.6   
    19    64    1   1       110   211    0        2      144      1      1.8   
    20    58    0   1       150   283    1        2      162      0      1.0   
    21    58    1   2       120   284    0        2      160      0      1.8   
    22    58    1   3       132   224    0        2      173      0      3.2   
    23    60    1   4       130   206    0        2      132      1      2.4   
    24    50    0   3       120   219    0        0      158      0      1.6   
    25    58    0   3       120   340    0        0      172      0      0.0   
    26    66    0   1       150   226    0        0      114      0      2.6   
    27    43    1   4       150   247    0        0      171      0      1.5   
    28    40    1   4       110   167    0        2      114      1      2.0   
    29    69    0   1       140   239    0        0      151      0      1.8   
    ..   ...  ...  ..       ...   ...  ...      ...      ...    ...      ...   
    272   71    0   4       112   149    0        0      125      0      1.6   
    273   59    1   1       134   204    0        0      162      0      0.8   
    274   64    1   1       170   227    0        2      155      0      0.6   
    275   66    0   3       146   278    0        2      152      0      0.0   
    276   39    0   3       138   220    0        0      152      0      0.0   
    277   57    1   2       154   232    0        2      164      0      0.0   
    278   58    0   4       130   197    0        0      131      0      0.6   
    279   57    1   4       110   335    0        0      143      1      3.0   
    280   47    1   3       130   253    0        0      179      0      0.0   
    281   55    0   4       128   205    0        1      130      1      2.0   
    282   35    1   2       122   192    0        0      174      0      0.0   
    283   61    1   4       148   203    0        0      161      0      0.0   
    284   58    1   4       114   318    0        1      140      0      4.4   
    285   58    0   4       170   225    1        2      146      1      2.8   
    286   58    1   2       125   220    0        0      144      0      0.4   
    287   56    1   2       130   221    0        2      163      0      0.0   
    288   56    1   2       120   240    0        0      169      0      0.0   
    289   67    1   3       152   212    0        2      150      0      0.8   
    290   55    0   2       132   342    0        0      166      0      1.2   
    291   44    1   4       120   169    0        0      144      1      2.8   
    292   63    1   4       140   187    0        2      144      1      4.0   
    293   63    0   4       124   197    0        0      136      1      0.0   
    294   41    1   2       120   157    0        0      182      0      0.0   
    295   59    1   4       164   176    1        2       90      0      1.0   
    296   57    0   4       140   241    0        0      123      1      0.2   
    297   45    1   1       110   264    0        0      132      0      1.2   
    298   68    1   4       144   193    1        0      141      0      3.4   
    299   57    1   4       130   131    0        0      115      1      1.2   
    300   57    0   2       130   236    0        2      174      0      0.0   
    301   38    1   3       138   175    0        0      173      0      0.0   
    
         slope  num  random_var  
    0        2    2    0.323159  
    1        2    1    0.073583  
    2        3    0    0.886255  
    3        1    0    0.284337  
    4        1    0    0.575380  
    5        3    3    0.345273  
    6        1    0    0.926242  
    7        2    2    0.995929  
    8        3    1    0.201525  
    9        2    0    0.595485  
    10       2    0    0.087160  
    11       2    2    0.379158  
    12       1    0    0.580267  
    13       1    0    0.365994  
    14       1    0    0.103805  
    15       3    1    0.693596  
    16       1    0    0.328524  
    17       1    0    0.030678  
    18       1    0    0.610751  
    19       2    0    0.517263  
    20       1    0    0.671496  
    21       2    1    0.080028  
    22       1    3    0.421530  
    23       2    4    0.369380  
    24       2    0    0.045158  
    25       1    0    0.106645  
    26       3    0    0.849306  
    27       1    0    0.425207  
    28       2    3    0.740935  
    29       1    0    0.619419  
    ..     ...  ...         ...  
    272      2    0    0.771500  
    273      1    1    0.272953  
    274      2    0    0.209849  
    275      2    0    0.449200  
    276      2    0    0.319677  
    277      1    1    0.936060  
    278      2    0    0.231084  
    279      2    2    0.471564  
    280      1    0    0.067606  
    281      2    3    0.551968  
    282      1    0    0.222553  
    283      1    2    0.643922  
    284      3    4    0.231684  
    285      2    2    0.362837  
    286      2    0    0.511915  
    287      1    0    0.659564  
    288      3    0    0.805043  
    289      2    1    0.748332  
    290      1    0    0.182503  
    291      3    2    0.271448  
    292      1    2    0.202684  
    293      2    1    0.862623  
    294      1    0    0.739173  
    295      2    3    0.139469  
    296      2    1    0.240738  
    297      2    1    0.642255  
    298      2    2    0.859428  
    299      2    3    0.419341  
    300      2    1    0.332627  
    301      1    0    0.726614  
    
    [302 rows x 13 columns]


#### trial 2: fill the data with interpolation

It may not always make sense to drop missing data, particularly when it might
not be difficult (or a stretch) to determine what the missing data is.
_Interpolation_ is a form of estimation that allows us to intelligently fill in
missing values.

We can do this using the `fillna()` function, or with `bfill()`, which
backfills, or `ffill()`, which forward-fills.


    print heart_data[285:290]
    print "\n"
    print heart_data[285:290]['ca'].ffill() # if there is a missing value in a row, fill it with foward value (prev row)
    print "\n"
    print heart_data[285:290]['ca'].bfill() # if there is a missing value in a row, fill it with back value (next row)
    print "\n"
    print heart_data[285:290]['ca'].fillna(int(heart_data['ca'].mode())) # fill in the missing value with a mode


         age  sex  cp  trestbps  chol  fbs  restecg  thalach  exang  oldpeak  \
    285   58    0   4       170   225    1        2      146      1      2.8   
    286   58    1   2       125   220    0        0      144      0      0.4   
    287   56    1   2       130   221    0        2      163      0      0.0   
    288   56    1   2       120   240    0        0      169      0      0.0   
    289   67    1   3       152   212    0        2      150      0      0.8   
    
         slope  ca  thal  num  random_var  
    285      2   2     6    2    0.362837  
    286      2 NaN     7    0    0.511915  
    287      1   0     7    0    0.659564  
    288      3   0     3    0    0.805043  
    289      2   0     7    1    0.748332  
    
    
    285    2
    286    2
    287    0
    288    0
    289    0
    Name: ca, dtype: float64
    
    
    285    2
    286    0
    287    0
    288    0
    289    0
    Name: ca, dtype: float64
    
    
    285    2
    286    0
    287    0
    288    0
    289    0
    Name: ca, dtype: float64


Finally, if we were working with continuous data, a better function to fill
would be with `interpolate()`, but we will get to that later!

### Classwork

1. List at least two different ways you could could the count the number of rows
for each gender.
2. Read through the documentation for [split, apply,
combine](http://pandas.pydata.org/pandas-docs/stable/groupby.html). What could
be another way to count the number of rows for each gender?
4. After subsetting by gender, how do the other values change? (compare the
averages of the whole data set, vs what they look like for gender 0, and for
gender 1).
5. The column `thal` is missing two values. Show three different ways that you
could fill in the missing data. Which one makes the most sense to use?



    # Classwork Solutions
    
    # 1.
    heart_male_subset = heart_data[heart_data['sex'] == 1]
    heart_female_subset = heart_data[heart_data['sex'] == 0]
    
    heart_data['sex'].value_counts()
    
    # print "Male rows: {0}".format(len(heart_male_subset))
    # print "Female rows: {0}".format(len(heart_female_subset))
    
    heart_sex_subset = heart_data.groupby('sex')
    # print heart_sex_subset.count()
    # print heart_sex_subset.describe()
    
    # for gender, values in heart_sex_subset:
    #     print "{0}: {1}".format(int(gender), len(values))
    
    # 2. 
    
    """
    You could group by the 'sex' column.
    """
    
    # 3. 
    print heart_data.mean()
    print heart_sex_subset.aggregate(numpy.average)
    
    
    # .apply() VS. loops with data frames
    # - like a list comprehension
    
    # 4.
    
    heart_data['thal'].ffill()
    heart_data['thal'].bfill()
    heart_data['thal'].fillna(int(heart_data['thal'].mean()), inplace=True)


    age            54.410596
    sex             0.678808
    cp              3.165563
    trestbps      131.645695
    chol          246.738411
    fbs             0.145695
    restecg         0.986755
    thalach       149.605960
    exang           0.327815
    oldpeak         1.035430
    slope           1.596026
    ca              0.674497
    thal            4.730000
    num             0.940397
    random_var      0.478429
    dtype: float64
               age       cp    trestbps        chol       fbs   restecg  \
    sex                                                                   
    0    55.721649  3.14433  133.340206  261.752577  0.123711  0.958763   
    1    53.790244  3.17561  130.843902  239.634146  0.156098  1.000000   
    
            thalach     exang   oldpeak     slope        ca  thal       num  \
    sex                                                                       
    0    151.226804  0.226804  0.867010  1.567010  0.546392   NaN  0.536082   
    1    148.839024  0.375610  1.115122  1.609756       NaN   NaN  1.131707   
    
         random_var  
    sex              
    0      0.457952  
    1      0.488118  


### Next Class

Next class we will continue exploring data, particularly with plotting via
matplotlib. We will start with a quick quiz to confirm python basics with
everyone, but also to provide a sense of what individuals need to focus on.
